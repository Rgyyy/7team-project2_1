(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7058,e=>{"use strict";e.s(["default",()=>t]);var r=e.i(43476),l=e.i(71645),a=e.i(18566);function t(e){let{params:t}=e,i=(0,a.useRouter)(),[s,o]=(0,l.useState)(""),[n,d]=(0,l.useState)(!0),[c,p]=(0,l.useState)(!1),[m,u]=(0,l.useState)(0),[x,h]=(0,l.useState)({title:"",category:"",description:"",date:"",time:"",location:"",address:"",duration:"",maxParticipants:"",difficultyLevel:"초급",price:"0",organizer:"",phone:"",email:""});(0,l.useEffect)(()=>{(async()=>{o((await t).id)})()},[t]),(0,l.useEffect)(()=>{s&&b()},[s]);let b=async()=>{try{let e=await fetch("/api/activities/".concat(s));if(e.ok){let r=await e.json();h({title:r.title,category:r.category.name,description:r.description,date:r.date,time:r.time,location:r.location.name,address:r.address,duration:r.duration.toString(),maxParticipants:r.maxParticipants.toString(),difficultyLevel:r.difficultyLevel,price:r.price.toString(),organizer:r.organizer,phone:r.phone,email:r.email}),u(r.description.length)}else alert("모임을 찾을 수 없습니다."),i.push("/activities")}catch(e){console.error("Error:",e),alert("모임을 불러오는데 실패했습니다.")}finally{d(!1)}},g=e=>{let{name:r,value:l}=e.target;h(e=>({...e,[r]:l})),"description"===r&&u(l.length)},j=async e=>{e.preventDefault(),p(!0);try{let e=await fetch("/api/activities/".concat(s),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(e.ok)alert("모임이 수정되었습니다!"),i.push("/activities/".concat(s));else{let r=await e.json();alert(r.error||"수정에 실패했습니다.")}}catch(e){console.error("Error:",e),alert("오류가 발생했습니다.")}finally{p(!1)}},y=async()=>{if(confirm("정말 이 모임을 삭제하시겠습니까?\n이 작업은 되돌릴 수 없습니다."))try{(await fetch("/api/activities/".concat(s),{method:"DELETE"})).ok?(alert("모임이 삭제되었습니다."),i.push("/activities")):alert("삭제에 실패했습니다.")}catch(e){console.error("Error:",e),alert("오류가 발생했습니다.")}};return n?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)("div",{className:"text-xl text-gray-600",children:"로딩 중..."})}):(0,r.jsx)("div",{className:"flex-1 bg-gray-50 py-12",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-2",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"모임 수정하기"}),(0,r.jsx)("p",{className:"text-gray-600",children:"모임 정보를 수정하거나 삭제할 수 있습니다"})]}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-8",children:(0,r.jsxs)("form",{onSubmit:j,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"기본 정보"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"모임 제목 *"}),(0,r.jsx)("input",{id:"title",name:"title",type:"text",required:!0,value:x.title,onChange:g,placeholder:"예: 해운대에서 러닝 모임",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"카테고리 *"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("select",{id:"category",name:"category",required:!0,value:x.category,onChange:g,className:"w-full px-3 py-2 pr-8 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500 appearance-none cursor-pointer",children:[(0,r.jsx)("option",{value:"",children:"카테고리를 선택하세요"}),(0,r.jsx)("option",{value:"운동",children:"운동"}),(0,r.jsx)("option",{value:"요리",children:"요리"}),(0,r.jsx)("option",{value:"독서",children:"독서"}),(0,r.jsx)("option",{value:"사진",children:"사진"}),(0,r.jsx)("option",{value:"음악",children:"음악"}),(0,r.jsx)("option",{value:"미술",children:"미술"}),(0,r.jsx)("option",{value:"언어",children:"언어"}),(0,r.jsx)("option",{value:"게임",children:"게임"}),(0,r.jsx)("option",{value:"여행",children:"여행"}),(0,r.jsx)("option",{value:"그외",children:"그외"})]}),(0,r.jsx)("i",{className:"ri-arrow-down-s-line absolute right-3 top-2.5 text-gray-400 pointer-events-none"})]})]})]}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2"}),(0,r.jsx)("textarea",{id:"description",name:"description",rows:4,maxLength:500,required:!0,value:x.description,onChange:g,placeholder:"모임에 대한 자세한 설명을 작성해주세요",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[m,"/500자"]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"일정 및 장소"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-2",children:"날짜 *"}),(0,r.jsx)("input",{id:"date",name:"date",type:"date",required:!0,value:x.date,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"time",className:"block text-sm font-medium text-gray-700 mb-2",children:"시간 *"}),(0,r.jsx)("input",{id:"time",name:"time",type:"time",required:!0,value:x.time,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-2",children:"지역 *"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("select",{id:"location",name:"location",required:!0,value:x.location,onChange:g,className:"w-full px-3 py-2 pr-8 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500 appearance-none cursor-pointer",children:[(0,r.jsx)("option",{value:"",children:"지역을 선택하세요"}),(0,r.jsx)("option",{value:"서울",children:"서울"}),(0,r.jsx)("option",{value:"인천",children:"인천"}),(0,r.jsx)("option",{value:"대전",children:"대전"}),(0,r.jsx)("option",{value:"대구",children:"대구"}),(0,r.jsx)("option",{value:"광주",children:"광주"}),(0,r.jsx)("option",{value:"울산",children:"울산"}),(0,r.jsx)("option",{value:"부산",children:"부산"}),(0,r.jsx)("option",{value:"세종",children:"세종"}),(0,r.jsx)("option",{value:"경기도",children:"경기도"}),(0,r.jsx)("option",{value:"강원도",children:"강원도"}),(0,r.jsx)("option",{value:"충청북도",children:"충청북도"}),(0,r.jsx)("option",{value:"충청남도",children:"충청남도"}),(0,r.jsx)("option",{value:"전라북도",children:"전라북도"}),(0,r.jsx)("option",{value:"전라남도",children:"전라남도"}),(0,r.jsx)("option",{value:"경상북도",children:"경상북도"}),(0,r.jsx)("option",{value:"경상남도",children:"경상남도"}),(0,r.jsx)("option",{value:"제주도",children:"제주도"})]}),(0,r.jsx)("i",{className:"ri-arrow-down-s-line absolute right-3 top-2.5 text-gray-400 pointer-events-none"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"상세 주소 *"}),(0,r.jsx)("input",{id:"address",name:"address",type:"text",placeholder:"예: 광안리 수변공원 주차장",required:!0,value:x.address,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"모임 세부사항"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-700 mb-2",children:"진행 시간 (분) *"}),(0,r.jsx)("input",{id:"duration",name:"duration",type:"number",min:"30",max:"480",required:!0,value:x.duration,onChange:g,placeholder:"60",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"maxParticipants",className:"block text-sm font-medium text-gray-700 mb-2",children:"최대 참가자 수 *"}),(0,r.jsx)("input",{id:"maxParticipants",name:"maxParticipants",type:"number",min:"2",max:"50",required:!0,value:x.maxParticipants,onChange:g,placeholder:"10",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"difficultyLevel",className:"block text-sm font-medium text-gray-700 mb-2",children:"난이도 *"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("select",{id:"difficultyLevel",name:"difficultyLevel",required:!0,value:x.difficultyLevel,onChange:g,className:"w-full px-3 py-2 pr-8 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500 appearance-none cursor-pointer",children:[(0,r.jsx)("option",{value:"초급",children:"초급"}),(0,r.jsx)("option",{value:"중급",children:"중급"}),(0,r.jsx)("option",{value:"고급",children:"고급"})]}),(0,r.jsx)("i",{className:"ri-arrow-down-s-line absolute right-3 top-2.5 text-gray-400 pointer-events-none"})]})]})]}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-2",children:"참가비 (원)"}),(0,r.jsx)("input",{id:"price",name:"price",type:"number",min:"0",value:x.price,onChange:g,placeholder:"0 (무료인 경우 0 입력)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"무료 모임인 경우 0을 입력하세요"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"주최자 정보"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"organizer",className:"block text-sm font-medium text-gray-700 mb-2",children:"주최자 이름 *"}),(0,r.jsx)("input",{id:"organizer",name:"organizer",type:"text",required:!0,value:x.organizer,onChange:g,placeholder:"이름을 입력하세요",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"연락처 *"}),(0,r.jsx)("input",{id:"phone",name:"phone",type:"tel",required:!0,value:x.phone,onChange:g,placeholder:"010-0000-0000",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"이메일 *"}),(0,r.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:x.email,onChange:g,placeholder:"example@email.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[(0,r.jsx)("button",{type:"button",onClick:y,className:"px-6 py-3 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors whitespace-nowrap",children:"삭제하기"}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{type:"button",onClick:()=>i.push("/activities/".concat(s)),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors whitespace-nowrap",children:"취소"}),(0,r.jsx)("button",{type:"submit",disabled:c,className:"px-8 py-3 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:c?"수정 중...":"수정 완료"})]})]})]})})]})})}}]);