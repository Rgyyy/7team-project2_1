(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,14251,e=>{"use strict";e.s(["default",()=>n],14251);var s=e.i(43476),t=e.i(71645),a=e.i(18566),r=e.i(22016),i=e.i(95187),l=(0,i.createServerReference)("40fc1cf49534e3905986fc2a9ed24ed76b16a4d534",i.callServer,void 0,i.findSourceMapURL,"joinActivity"),c=(0,i.createServerReference)("40d10c5f303fb7c90b616e10f6e0beed7bd65244a1",i.callServer,void 0,i.findSourceMapURL,"cancelParticipation");function n(e){let{params:i}=e,n=(0,a.useRouter)(),[d,x]=(0,t.useState)(null),[m,o]=(0,t.useState)(!0),[p,h]=(0,t.useState)(""),[u,g]=(0,t.useState)(null),[j,f]=(0,t.useState)(!1),[N,b]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{h((await i).id)})()},[i]),(0,t.useEffect)(()=>{p&&(y(),v(),w())},[p]);let y=async()=>{try{let e=await fetch("/api/activities/".concat(p));if(e.ok){let s=await e.json();x(s)}else alert("모임을 찾을 수 없습니다."),n.push("/activities")}catch(e){console.error("Error:",e)}finally{o(!1)}},v=async()=>{try{let e=await fetch("/api/auth/current-user");if(e.ok){let s=await e.json();s.userId&&g(s.userId)}}catch(e){console.error("Error checking user:",e)}},w=async()=>{try{let e=await fetch("/api/activities/".concat(p,"/participation"));if(e.ok){let s=await e.json();f(s.isParticipating)}}catch(e){console.error("Error:",e)}},S=async()=>{if(!u){alert("로그인이 필요합니다."),n.push("/login");return}b(!0);let e=await l(p);e.success?(alert(e.message),f(!0),y()):alert(e.error),b(!1)},k=async()=>{if(!confirm("참여를 취소하시겠습니까?"))return;b(!0);let e=await c(p);e.success?(alert(e.message),f(!1),y()):alert(e.error),b(!1)},E=async()=>{if(confirm("정말 이 모임을 삭제하시겠습니까?"))try{(await fetch("/api/activities/".concat(p),{method:"DELETE"})).ok?(alert("모임이 삭제되었습니다."),n.push("/activities")):alert("삭제에 실패했습니다.")}catch(e){console.error("Error:",e),alert("오류가 발생했습니다.")}},C=u&&(null==d?void 0:d.userId)===u;return m?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)("div",{className:"text-xl text-gray-600",children:"로딩 중..."})}):d?(0,s.jsx)("div",{className:"bg-gray-50 min-h-screen py-12",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)(r.default,{href:"/activities",className:"inline-flex items-center text-gray-600 hover:text-gray-900 mb-6",children:[(0,s.jsx)("i",{className:"ri-arrow-left-line mr-2"}),"목록으로 돌아가기"]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 px-8 py-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,s.jsx)("span",{className:"px-3 py-1 bg-white/20 text-white text-sm font-medium rounded-full",children:d.category.name}),(0,s.jsx)("span",{className:"px-3 py-1 bg-white/20 text-white text-sm font-medium rounded-full",children:d.location.name})]}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:d.title}),(0,s.jsxs)("p",{className:"text-purple-100",children:["주최자: ",d.organizer]})]}),(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"모임 소개"}),(0,s.jsx)("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:d.description})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"일정 및 장소"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("i",{className:"ri-calendar-line text-purple-600 text-xl mr-3 mt-1"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"날짜"}),(0,s.jsx)("p",{className:"text-gray-900 font-medium",children:d.date})]})]}),(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("i",{className:"ri-time-line text-purple-600 text-xl mr-3 mt-1"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"시간"}),(0,s.jsxs)("p",{className:"text-gray-900 font-medium",children:[d.time," (",d.duration,"분)"]})]})]}),(0,s.jsxs)("div",{className:"flex items-start md:col-span-2",children:[(0,s.jsx)("i",{className:"ri-map-pin-line text-purple-600 text-xl mr-3 mt-1"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"장소"}),(0,s.jsxs)("p",{className:"text-gray-900 font-medium",children:[d.location.name," · ",d.address]})]})]})]})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"모임 정보"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"참가 인원"}),(0,s.jsxs)("p",{className:"text-lg font-bold text-purple-600",children:[d.participants,"/",d.maxParticipants,"명"]})]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"난이도"}),(0,s.jsx)("p",{className:"text-lg font-bold text-gray-900",children:d.difficultyLevel})]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"참가비"}),(0,s.jsx)("p",{className:"text-lg font-bold text-gray-900",children:0===d.price?"무료":"".concat(d.price.toLocaleString(),"원")})]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"진행 시간"}),(0,s.jsxs)("p",{className:"text-lg font-bold text-gray-900",children:[d.duration,"분"]})]})]})]}),(0,s.jsxs)("div",{className:"mb-8 bg-purple-50 rounded-lg p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"주최자 정보"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("i",{className:"ri-user-line text-purple-600 mr-3"}),(0,s.jsx)("span",{className:"text-gray-700",children:d.organizer})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("i",{className:"ri-phone-line text-purple-600 mr-3"}),(0,s.jsx)("span",{className:"text-gray-700",children:d.phone})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("i",{className:"ri-mail-line text-purple-600 mr-3"}),(0,s.jsx)("span",{className:"text-gray-700",children:d.email})]})]})]}),(0,s.jsxs)("div",{className:"pt-6 border-t space-y-4",children:[C&&p&&(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("button",{onClick:()=>n.push("/activities/".concat(p,"/edit")),className:"flex-1 px-6 py-3 bg-blue-400 text-white rounded-md hover:bg-blue-700 transition-colors",children:"수정하기"}),(0,s.jsx)("button",{onClick:E,className:"flex-1 px-6 py-3 bg-red-400 text-white rounded-md hover:bg-red-700 transition-colors",children:"삭제하기"})]}),u&&!C&&p&&(0,s.jsx)("div",{children:j?(0,s.jsx)("button",{onClick:k,disabled:N,className:"w-full px-6 py-3 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors disabled:opacity-50",children:N?"처리 중...":"참여 취소하기"}):(0,s.jsx)("button",{onClick:S,disabled:N||d&&d.participants>=d.maxParticipants,className:"w-full px-6 py-3 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:N?"처리 중...":d&&d.participants>=d.maxParticipants?"마감됨":"참여하기"})}),!u&&(0,s.jsx)("button",{onClick:()=>{alert("로그인이 필요합니다."),n.push("/login")},className:"w-full px-6 py-3 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:"로그인하고 참여하기"})]})]})]})]})}):(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)("div",{className:"text-xl text-gray-600",children:"모임을 찾을 수 없습니다."})})}}]);