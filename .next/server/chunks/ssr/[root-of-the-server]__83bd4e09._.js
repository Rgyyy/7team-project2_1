module.exports=[12964,a=>{"use strict";a.s(["logoutUser",()=>d]);var b=a.i(37936),c=a.i(5246);async function d(){try{return(await (0,c.cookies)()).delete("token"),console.log("로그아웃 성공"),{success:!0}}catch(a){return console.error("로그아웃 에러:",a),{success:!1,error:"로그아웃 중 오류가 발생했습니다."}}}(0,a.i(13095).ensureServerEntryExports)([d]),(0,b.registerServerReference)(d,"00bf9bc1e293f156175d3d49e4edd92075726affdf",null)},93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},62212,a=>{a.n(a.i(66114))},874,(a,b,c)=>{b.exports=a.x("buffer",()=>require("buffer"))},88947,(a,b,c)=>{b.exports=a.x("stream",()=>require("stream"))},29173,(a,b,c)=>{b.exports=a.x("@prisma/client",()=>require("@prisma/client"))},54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},66518,a=>{"use strict";a.s(["prisma",()=>c]);var b=a.i(29173);let c=a.g.prisma||new b.PrismaClient({log:["query","error","warn"]})},91263,a=>{"use strict";a.s(["deleteUser",()=>i,"getUser",()=>f,"getUserId",()=>h,"getUserName",()=>g]);var b=a.i(37936),c=a.i(5246),d=a.i(55429),e=a.i(66518);async function f(){try{let a=await (0,c.cookies)(),b=a.get("token")?.value;if(!b)return null;return d.default.verify(b,process.env.JWT_SECRET)}catch(a){return console.error("Error in getUser:",a),null}}async function g(){try{let a=await f();if(!a)return null;let b=await e.prisma.user_data.findUnique({where:{user_id:a.userId,user_state:"0"},select:{user_name:!0}});return b?.user_name||null}catch(a){return console.error("Error fetching user name:",a),null}}async function h(){try{let a=await f();if(!a)return null;let b=await e.prisma.user_data.findUnique({where:{user_id:a.userId},select:{id:!0}});return b?.id||null}catch(a){return console.error("Error fetching user name:",a),null}}async function i(){try{let a=await f();if(!a)return{success:!1,error:"로그인이 필요합니다."};return await e.prisma.user_data.update({where:{user_id:a.userId},data:{user_state:"1"}}),(await (0,c.cookies)()).delete("token"),{success:!0}}catch(a){return console.error("회원 탈퇴 오류:",a),{success:!1,error:"회원 탈퇴 중 오류가 발생했습니다."}}}(0,a.i(13095).ensureServerEntryExports)([f,g,h,i]),(0,b.registerServerReference)(f,"001a9ae53cd88677b0495aa77354b1ce40f310291b",null),(0,b.registerServerReference)(g,"00015dbee12d7908d089217079a4e72d5156799e5b",null),(0,b.registerServerReference)(h,"00d012890103ff7de57a95e7edabbd73f851b4ffb8",null),(0,b.registerServerReference)(i,"00b5aaa146a4260f8b5ecf6a7cff27b9ace00e7dc9",null)},75332,a=>{"use strict";a.s(["call_login_records",()=>e]);var b=a.i(37936),c=a.i(66518),d=a.i(91263);async function e(){try{let a=await (0,d.getUser)();if(!a)return null;return await c.prisma.user_data.findUnique({where:{user_id:a.userId,user_state:"0"},select:{user_id:!0,user_main_location:!0,user_name:!0,user_email:!0,login_records:{select:{id:!0,login_time:!0,login_location:!0,login_ip:!0,login_platform:!0},orderBy:{login_time:"desc"},take:5},activities:{select:{id:!0,title:!0,difficultyLevel:!0,participants:!0,maxParticipants:!0,price:!0,date:!0,createdAt:!0},orderBy:{createdAt:"desc"},take:5},participations:{select:{id:!0,activityId:!0,createdAt:!0,activity:{select:{id:!0,title:!0,difficultyLevel:!0,participants:!0,maxParticipants:!0,price:!0,date:!0,createdAt:!0}}},orderBy:{createdAt:"desc"},take:5}}})||null}catch(a){return null}}(0,a.i(13095).ensureServerEntryExports)([e]),(0,b.registerServerReference)(e,"003d89cdc71a1e26db7edafa2c9dda5573a8d28a0f",null)},47426,a=>{"use strict";a.s(["003d89cdc71a1e26db7edafa2c9dda5573a8d28a0f",()=>e.call_login_records,"00bf9bc1e293f156175d3d49e4edd92075726affdf",()=>d.logoutUser],47426),a.s([],74870);var b=a.i(12964),c=a.i(75332);a.i(74870);var d=b,e=c},16085,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/app/chatting/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/app/chatting/page.tsx <module evaluation>","default")},40677,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/app/chatting/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/app/chatting/page.tsx","default")},35808,a=>{"use strict";a.i(16085);var b=a.i(40677);a.n(b)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__83bd4e09._.js.map