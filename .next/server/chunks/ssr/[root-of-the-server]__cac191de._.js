module.exports=[12964,a=>{"use strict";a.s(["logoutUser",()=>d]);var b=a.i(37936),c=a.i(5246);async function d(){try{return(await (0,c.cookies)()).delete("token"),console.log("로그아웃 성공"),{success:!0}}catch(a){return console.error("로그아웃 에러:",a),{success:!1,error:"로그아웃 중 오류가 발생했습니다."}}}(0,a.i(13095).ensureServerEntryExports)([d]),(0,b.registerServerReference)(d,"00b7a57c14b2684975b2c912dfa8f62e85d5d7f389",null)},93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},62212,a=>{a.n(a.i(66114))},874,(a,b,c)=>{b.exports=a.x("buffer",()=>require("buffer"))},88947,(a,b,c)=>{b.exports=a.x("stream",()=>require("stream"))},29173,(a,b,c)=>{b.exports=a.x("@prisma/client",()=>require("@prisma/client"))},54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},66518,a=>{"use strict";a.s(["prisma",()=>c]);var b=a.i(29173);let c=a.g.prisma||new b.PrismaClient({log:["query","error","warn"]})},91263,a=>{"use strict";a.s(["deleteUser",()=>i,"getUser",()=>f,"getUserId",()=>h,"getUserName",()=>g]);var b=a.i(37936),c=a.i(5246),d=a.i(55429),e=a.i(66518);async function f(){try{let a=await (0,c.cookies)(),b=a.get("token")?.value;if(!b)return null;return d.default.verify(b,process.env.JWT_SECRET)}catch(a){return console.error("Error in getUser:",a),null}}async function g(){try{let a=await f();if(!a)return null;let b=await e.prisma.user_data.findUnique({where:{user_id:a.userId,user_state:"0"},select:{user_name:!0}});return b?.user_name||null}catch(a){return console.error("Error fetching user name:",a),null}}async function h(){try{let a=await f();if(!a)return null;let b=await e.prisma.user_data.findUnique({where:{user_id:a.userId},select:{id:!0}});return b?.id||null}catch(a){return console.error("Error fetching user name:",a),null}}async function i(){try{let a=await f();if(!a)return{success:!1,error:"로그인이 필요합니다."};return await e.prisma.user_data.update({where:{user_id:a.userId},data:{user_state:"1"}}),(await (0,c.cookies)()).delete("token"),{success:!0}}catch(a){return console.error("회원 탈퇴 오류:",a),{success:!1,error:"회원 탈퇴 중 오류가 발생했습니다."}}}(0,a.i(13095).ensureServerEntryExports)([f,g,h,i]),(0,b.registerServerReference)(f,"000a2bac3d7127b8cc9968b168117c754b7f405374",null),(0,b.registerServerReference)(g,"00212827235ea9c07f9f7bd0fb51db5b9293bb714b",null),(0,b.registerServerReference)(h,"001c02a6d91571d7198663363cbc61a27579b1b6bb",null),(0,b.registerServerReference)(i,"007c377a3ea984af9e269b96039cf3aa87e64829f9",null)},93207,a=>{"use strict";a.s(["000a2bac3d7127b8cc9968b168117c754b7f405374",()=>e.getUser,"001c02a6d91571d7198663363cbc61a27579b1b6bb",()=>e.getUserId,"00212827235ea9c07f9f7bd0fb51db5b9293bb714b",()=>e.getUserName,"007c377a3ea984af9e269b96039cf3aa87e64829f9",()=>e.deleteUser,"00b7a57c14b2684975b2c912dfa8f62e85d5d7f389",()=>d.logoutUser],93207),a.s([],45121);var b=a.i(12964),c=a.i(91263);a.i(45121);var d=b,e=c},57385,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/component/button_logout.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/component/button_logout.tsx <module evaluation>","default")},49921,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/component/button_logout.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/component/button_logout.tsx","default")},94566,a=>{"use strict";a.i(57385);var b=a.i(49921);a.n(b)},46826,a=>{"use strict";a.s(["default",()=>f]);var b=a.i(7997),c=a.i(91263),d=a.i(18486),e=a.i(94566);async function f(){let a=await (0,c.getUserId)();return(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{children:"메인페이지"}),a?(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{children:["안녕하세요, ",a,"님!"]}),(0,b.jsx)(e.default,{})]}):(0,b.jsx)(d.default,{})]})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__cac191de._.js.map