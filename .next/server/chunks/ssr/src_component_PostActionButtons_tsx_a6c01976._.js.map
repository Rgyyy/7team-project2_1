{"version":3,"sources":["turbopack:///[project]/src/component/PostActionButtons.tsx"],"sourcesContent":["// component/PostActionButtons.tsx\r\n\"use client\";\r\n\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useState } from \"react\";\r\n\r\ntype PostActionButtonsProps = {\r\n  postId: string;\r\n  activityId: string;\r\n};\r\n\r\nexport default function PostActionButtons({\r\n  postId,\r\n  activityId,\r\n}: PostActionButtonsProps) {\r\n  const router = useRouter();\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n  const [showSuccessModal, setShowSuccessModal] = useState(false);\r\n  const [showErrorModal, setShowErrorModal] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  // 수정 버튼 클릭\r\n  const handleEdit = () => {\r\n    router.push(`/activities/${activityId}/posts/${postId}/edit`);\r\n  };\r\n\r\n  // 삭제 버튼 클릭\r\n  const handleDeleteClick = () => {\r\n    setShowDeleteModal(true);\r\n  };\r\n\r\n  // 삭제 실행\r\n  const handleDelete = async () => {\r\n    setIsDeleting(true);\r\n    setShowDeleteModal(false);\r\n\r\n    try {\r\n      const response = await fetch(`/api/posts/${postId}`, {\r\n        method: \"DELETE\",\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"게시글 삭제에 실패했습니다.\");\r\n      }\r\n\r\n      setShowSuccessModal(true);\r\n    } catch (error) {\r\n      console.error(\"삭제 중 오류:\", error);\r\n      setErrorMessage(\"게시글 삭제에 실패했습니다.\");\r\n      setShowErrorModal(true);\r\n      setIsDeleting(false);\r\n    }\r\n  };\r\n\r\n  const handleSuccessConfirm = () => {\r\n    setShowSuccessModal(false);\r\n    router.push(`/activities/${activityId}/posts`);\r\n    router.refresh();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex items-center gap-2\">\r\n        <button\r\n          onClick={handleEdit}\r\n          className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors\"\r\n        >\r\n          수정\r\n        </button>\r\n        <button\r\n          onClick={handleDeleteClick}\r\n          disabled={isDeleting}\r\n          className=\"px-4 py-2 text-sm font-medium text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n        >\r\n          {isDeleting ? \"삭제 중...\" : \"삭제\"}\r\n        </button>\r\n      </div>\r\n\r\n      {/* 삭제 확인 모달 */}\r\n      {showDeleteModal && (\r\n        <div\r\n          className=\"fixed inset-0 flex items-center justify-center z-50\"\r\n          style={{\r\n            backgroundColor: \"rgba(0, 0, 0, 0.3)\",\r\n            backdropFilter: \"blur(4px)\",\r\n          }}\r\n        >\r\n          <div className=\"bg-white rounded-lg p-6 max-w-sm w-full mx-4\">\r\n            <div className=\"text-center\">\r\n              <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4\">\r\n                <svg\r\n                  className=\"h-6 w-6 text-red-600\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\r\n                  />\r\n                </svg>\r\n              </div>\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\r\n                게시글 삭제\r\n              </h3>\r\n              <p className=\"text-sm text-gray-500 mb-4\">\r\n                정말로 이 게시글을 삭제하시겠습니까?\r\n                <br />\r\n                삭제된 게시글은 복구할 수 없습니다.\r\n              </p>\r\n              <div className=\"flex gap-3\">\r\n                <button\r\n                  onClick={() => setShowDeleteModal(false)}\r\n                  className=\"flex-1 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-lg transition-colors\"\r\n                >\r\n                  취소\r\n                </button>\r\n                <button\r\n                  onClick={handleDelete}\r\n                  className=\"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-colors\"\r\n                >\r\n                  삭제\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* 삭제 완료 모달 */}\r\n      {showSuccessModal && (\r\n        <div\r\n          className=\"fixed inset-0 flex items-center justify-center z-50\"\r\n          style={{\r\n            backgroundColor: \"rgba(0, 0, 0, 0.3)\",\r\n            backdropFilter: \"blur(4px)\",\r\n          }}\r\n        >\r\n          <div className=\"bg-white rounded-lg p-6 max-w-sm w-full mx-4\">\r\n            <div className=\"text-center\">\r\n              <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4\">\r\n                <svg\r\n                  className=\"h-6 w-6 text-green-600\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M5 13l4 4L19 7\"\r\n                  />\r\n                </svg>\r\n              </div>\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\r\n                삭제 완료\r\n              </h3>\r\n              <p className=\"text-sm text-gray-500 mb-4\">\r\n                게시글이 성공적으로 삭제되었습니다.\r\n              </p>\r\n              <button\r\n                onClick={handleSuccessConfirm}\r\n                className=\"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors\"\r\n              >\r\n                확인\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* 오류 모달 */}\r\n      {showErrorModal && (\r\n        <div\r\n          className=\"fixed inset-0 flex items-center justify-center z-50\"\r\n          style={{\r\n            backgroundColor: \"rgba(0, 0, 0, 0.3)\",\r\n            backdropFilter: \"blur(4px)\",\r\n          }}\r\n        >\r\n          <div className=\"bg-white rounded-lg p-6 max-w-sm w-full mx-4\">\r\n            <div className=\"text-center\">\r\n              <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4\">\r\n                <svg\r\n                  className=\"h-6 w-6 text-red-600\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M6 18L18 6M6 6l12 12\"\r\n                  />\r\n                </svg>\r\n              </div>\r\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\r\n                삭제 실패\r\n              </h3>\r\n              <p className=\"text-sm text-gray-500 mb-4\">{errorMessage}</p>\r\n              <button\r\n                onClick={() => setShowErrorModal(false)}\r\n                className=\"w-full px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white font-medium rounded-lg transition-colors\"\r\n              >\r\n                확인\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}