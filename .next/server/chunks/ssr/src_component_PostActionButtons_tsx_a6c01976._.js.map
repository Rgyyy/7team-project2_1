{"version":3,"sources":["turbopack:///[project]/src/component/PostActionButtons.tsx"],"sourcesContent":["// component/PostActionButtons.tsx\n\"use client\";\n\nimport { useRouter } from \"next/navigation\";\nimport { useState } from \"react\";\n\ntype PostActionButtonsProps = {\n  postId: string;\n  activityId: string;\n};\n\nexport default function PostActionButtons({\n  postId,\n  activityId,\n}: PostActionButtonsProps) {\n  const router = useRouter();\n  const [isDeleting, setIsDeleting] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [showSuccessModal, setShowSuccessModal] = useState(false);\n  const [showErrorModal, setShowErrorModal] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  // 수정 버튼 클릭\n  const handleEdit = () => {\n    router.push(`/activities/${activityId}/posts/${postId}/edit`);\n  };\n\n  // 삭제 버튼 클릭\n  const handleDeleteClick = () => {\n    setShowDeleteModal(true);\n  };\n\n  // 삭제 실행\n  const handleDelete = async () => {\n    setIsDeleting(true);\n    setShowDeleteModal(false);\n\n    try {\n      const response = await fetch(`/api/posts/${postId}`, {\n        method: \"DELETE\",\n      });\n\n      if (!response.ok) {\n        throw new Error(\"게시글 삭제에 실패했습니다.\");\n      }\n\n      setShowSuccessModal(true);\n    } catch (error) {\n      console.error(\"삭제 중 오류:\", error);\n      setErrorMessage(\"게시글 삭제에 실패했습니다.\");\n      setShowErrorModal(true);\n      setIsDeleting(false);\n    }\n  };\n\n  const handleSuccessConfirm = () => {\n    setShowSuccessModal(false);\n    router.push(`/activities/${activityId}/posts`);\n    router.refresh();\n  };\n\n  return (\n    <>\n      <div className=\"flex items-center gap-2\">\n        <button\n          onClick={handleEdit}\n          className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors\"\n        >\n          수정\n        </button>\n        <button\n          onClick={handleDeleteClick}\n          disabled={isDeleting}\n          className=\"px-4 py-2 text-sm font-medium text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          {isDeleting ? \"삭제 중...\" : \"삭제\"}\n        </button>\n      </div>\n\n      {/* 삭제 확인 모달 */}\n      {showDeleteModal && (\n        <div\n          className=\"fixed inset-0 flex items-center justify-center z-50\"\n          style={{\n            backgroundColor: \"rgba(0, 0, 0, 0.3)\",\n            backdropFilter: \"blur(4px)\",\n          }}\n        >\n          <div className=\"bg-white rounded-lg p-6 max-w-sm w-full mx-4\">\n            <div className=\"text-center\">\n              <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4\">\n                <svg\n                  className=\"h-6 w-6 text-red-600\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n                  />\n                </svg>\n              </div>\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n                게시글 삭제\n              </h3>\n              <p className=\"text-sm text-gray-500 mb-4\">\n                정말로 이 게시글을 삭제하시겠습니까?\n                <br />\n                삭제된 게시글은 복구할 수 없습니다.\n              </p>\n              <div className=\"flex gap-3\">\n                <button\n                  onClick={() => setShowDeleteModal(false)}\n                  className=\"flex-1 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-lg transition-colors\"\n                >\n                  취소\n                </button>\n                <button\n                  onClick={handleDelete}\n                  className=\"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-colors\"\n                >\n                  삭제\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* 삭제 완료 모달 */}\n      {showSuccessModal && (\n        <div\n          className=\"fixed inset-0 flex items-center justify-center z-50\"\n          style={{\n            backgroundColor: \"rgba(0, 0, 0, 0.3)\",\n            backdropFilter: \"blur(4px)\",\n          }}\n        >\n          <div className=\"bg-white rounded-lg p-6 max-w-sm w-full mx-4\">\n            <div className=\"text-center\">\n              <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4\">\n                <svg\n                  className=\"h-6 w-6 text-green-600\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M5 13l4 4L19 7\"\n                  />\n                </svg>\n              </div>\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n                삭제 완료\n              </h3>\n              <p className=\"text-sm text-gray-500 mb-4\">\n                게시글이 성공적으로 삭제되었습니다.\n              </p>\n              <button\n                onClick={handleSuccessConfirm}\n                className=\"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors\"\n              >\n                확인\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* 오류 모달 */}\n      {showErrorModal && (\n        <div\n          className=\"fixed inset-0 flex items-center justify-center z-50\"\n          style={{\n            backgroundColor: \"rgba(0, 0, 0, 0.3)\",\n            backdropFilter: \"blur(4px)\",\n          }}\n        >\n          <div className=\"bg-white rounded-lg p-6 max-w-sm w-full mx-4\">\n            <div className=\"text-center\">\n              <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4\">\n                <svg\n                  className=\"h-6 w-6 text-red-600\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M6 18L18 6M6 6l12 12\"\n                  />\n                </svg>\n              </div>\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n                삭제 실패\n              </h3>\n              <p className=\"text-sm text-gray-500 mb-4\">{errorMessage}</p>\n              <button\n                onClick={() => setShowErrorModal(false)}\n                className=\"w-full px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white font-medium rounded-lg transition-colors\"\n              >\n                확인\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}