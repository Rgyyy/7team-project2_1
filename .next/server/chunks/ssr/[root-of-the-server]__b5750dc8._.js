module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},62212,a=>{a.n(a.i(66114))},12964,a=>{"use strict";a.s(["logoutUser",()=>d]);var b=a.i(37936),c=a.i(5246);async function d(){try{return(await (0,c.cookies)()).delete("token"),console.log("로그아웃 성공"),{success:!0}}catch(a){return console.error("로그아웃 에러:",a),{success:!1,error:"로그아웃 중 오류가 발생했습니다."}}}(0,a.i(13095).ensureServerEntryExports)([d]),(0,b.registerServerReference)(d,"00d0b65cc6bfb399fbc62f4e926cf25cfa389ab386",null)},874,(a,b,c)=>{b.exports=a.x("buffer",()=>require("buffer"))},88947,(a,b,c)=>{b.exports=a.x("stream",()=>require("stream"))},29173,(a,b,c)=>{b.exports=a.x("@prisma/client",()=>require("@prisma/client"))},54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},66518,a=>{"use strict";a.s(["prisma",()=>c]);var b=a.i(29173);let c=a.g.prisma||new b.PrismaClient({log:["query","error","warn"]})},56395,a=>{"use strict";a.s(["getUser",()=>f]);var b=a.i(37936),c=a.i(5246),d=a.i(55429),e=a.i(66518);async function f(){try{let a=await (0,c.cookies)(),b=a.get("token")?.value;if(!b)return null;let f=d.default.verify(b,process.env.JWT_SECRET),g=await e.prisma.user_data.findUnique({where:{user_id:f.userId},select:{id:!0,user_name:!0,user_email:!0}});if(!g)return null;return{userId:g.id,userName:g.user_name,userEmail:g.user_email}}catch(a){return console.error("Error in getUser:",a),null}}async function g(){try{let a=await f();if(!a)return null;return a.userName||null}catch(a){return console.error("Error fetching user name:",a),null}}(0,a.i(13095).ensureServerEntryExports)([f,g]),(0,b.registerServerReference)(f,"00227ff031e0327ab5fd6777fa1b0b14f3befc72af",null),(0,b.registerServerReference)(g,"000df2d8118713e0b2a3e765a46b096855d49ca7a0",null)},98434,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/app/create-activity/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/app/create-activity/page.tsx <module evaluation>","default")},19601,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/app/create-activity/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/app/create-activity/page.tsx","default")},57110,a=>{"use strict";a.i(98434);var b=a.i(19601);a.n(b)},78274,a=>a.a(async(b,c)=>{try{a.s(["createActivity",()=>i]);var d=a.i(37936),e=a.i(66518),f=a.i(18558),g=a.i(56395),h=a.i(13095);let b=await (0,g.getUser)();async function i(a){try{let b=await (0,g.getUser)();if(console.log("User from getUser():",b),!b?.userId)return{success:!1,error:"로그인이 필요합니다."};let c=await e.prisma.category.findUnique({where:{name:a.category}});if(!c)return{success:!1,error:"유효하지 않은 카테고리입니다."};let d=await e.prisma.location.findUnique({where:{name:a.location}});if(!d)return{success:!1,error:"유효하지 않은 지역입니다."};console.log("Creating activity with userId:",b.userId),console.log("Category ID:",c.id),console.log("Location ID:",d.id);let h=await e.prisma.activity.create({data:{title:a.title,description:a.description,date:a.date,time:a.time,address:a.address,duration:parseInt(a.duration),maxParticipants:parseInt(a.maxParticipants),difficultyLevel:a.difficultyLevel,price:parseInt(a.price||"0"),organizer:a.organizer,phone:a.phone,email:a.email,categoryId:c.id,locationId:d.id,userId:b.userId},include:{category:!0,location:!0}});return(0,f.revalidatePath)("/activities"),{success:!0,data:h}}catch(a){return console.error("Activity creation error:",a),{success:!1,error:"모임 생성에 실패했습니다."}}}console.log(b?.userId),(0,h.ensureServerEntryExports)([i]),(0,d.registerServerReference)(i,"40ea682880fd5b0297d11c6711471bdb1a3af35ca7",null),c()}catch(a){c(a)}},!0),47883,a=>a.a(async(b,c)=>{try{a.s([]),a.i(12964);var d=a.i(78274),e=b([d]);[d]=e.then?(await e)():e,c()}catch(a){c(a)}},!1),51585,a=>a.a(async(b,c)=>{try{a.s(["00d0b65cc6bfb399fbc62f4e926cf25cfa389ab386",()=>e.logoutUser,"40ea682880fd5b0297d11c6711471bdb1a3af35ca7",()=>f.createActivity]);var d=a.i(47883),e=a.i(12964),f=a.i(78274),g=b([d,f]);[d,f]=g.then?(await g)():g,c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__b5750dc8._.js.map