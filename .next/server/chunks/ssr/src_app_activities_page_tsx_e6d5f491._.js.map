{"version":3,"sources":["turbopack:///[project]/src/app/activities/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState, useRef } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\n\ninterface Activity {\n  id: string;\n  title: string;\n  description: string;\n  date: string;\n  time: string;\n  address: string;\n  duration: number;\n  maxParticipants: number;\n  participants: number;\n  difficultyLevel: string;\n  price: number;\n  organizer: string;\n  createdAt: string;\n  category: {\n    id: string;\n    name: string;\n    icon?: string;\n  };\n  location: {\n    id: string;\n    name: string;\n  };\n}\n\ninterface PaginationData {\n  activities: Activity[];\n  totalPages: number;\n  currentPage: number;\n  totalCount: number;\n}\n\nexport default function ActivitiesPage() {\n  const router = useRouter();\n  const [activities, setActivities] = useState<Activity[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [categoryFilter, setCategoryFilter] = useState('전체');\n  const [locationFilter, setLocationFilter] = useState('전국');\n  const [sortBy, setSortBy] = useState('latest');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [totalCount, setTotalCount] = useState(0);\n  const [isMobile, setIsMobile] = useState(false);\n  const [loadingMore, setLoadingMore] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchInput, setSearchInput] = useState('');\n  const [currentUserId, setCurrentUserId] = useState<string | null>(null);\n  const itemsPerPage = 9;\n  const observerTarget = useRef<HTMLDivElement>(null);\n  const newPageMarkerRef = useRef<HTMLDivElement>(null);\n\n  // 모바일 감지\n  useEffect(() => {\n    const checkMobile = () => {\n      setIsMobile(window.innerWidth < 768);\n    };\n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    return () => window.removeEventListener('resize', checkMobile);\n  }, []);\n\n  // 현재 사용자 확인\n  useEffect(() => {\n    const checkCurrentUser = async () => {\n      try {\n        const response = await fetch('/api/auth/current-user');\n        if (response.ok) {\n          const data = await response.json();\n          if (data.userId) {\n            setCurrentUserId(data.userId);\n          }\n        }\n      } catch (error) {\n        console.error('Error checking user:', error);\n      }\n    };\n    \n    checkCurrentUser();\n  }, []);\n\n  // 데이터 fetch\n  useEffect(() => {\n    fetchActivities(currentPage > 1 && isMobile);\n  }, [currentPage, categoryFilter, locationFilter, sortBy, searchQuery]);\n\n  // 필터 변경 시 초기화\n  useEffect(() => {\n    if (currentPage === 1) {\n      setActivities([]);\n    }\n  }, [categoryFilter, locationFilter, sortBy, searchQuery]);\n\n  const fetchActivities = async (isLoadMore: boolean) => {\n    if (isLoadMore) {\n      setLoadingMore(true);\n    } else {\n      setLoading(true);\n    }\n\n    try {\n      const params = new URLSearchParams({\n        page: currentPage.toString(),\n        limit: itemsPerPage.toString(),\n        sortBy: sortBy,\n      });\n\n      if (categoryFilter !== '전체') {\n        params.append('category', categoryFilter);\n      }\n      if (locationFilter !== '전국') {\n        params.append('location', locationFilter);\n      }\n      if (searchQuery.trim()) {\n        params.append('search', searchQuery.trim());\n      }\n\n      const response = await fetch(`/api/activities?${params.toString()}`);\n      const data: PaginationData = await response.json();\n      \n      if (data.activities && Array.isArray(data.activities)) {\n        if (isMobile && isLoadMore && currentPage > 1) {\n          setActivities(prev => [...prev, ...data.activities]);\n          \n          setTimeout(() => {\n            if (newPageMarkerRef.current) {\n              newPageMarkerRef.current.scrollIntoView({ \n                behavior: 'smooth', \n                block: 'start'\n              });\n            }\n          }, 150);\n        } else {\n          setActivities(data.activities);\n        }\n        setTotalPages(data.totalPages || 1);\n        setTotalCount(data.totalCount || 0);\n      } else {\n        setActivities([]);\n      }\n    } catch (error) {\n      console.error(\"Error fetching activities:\", error);\n      setActivities([]);\n    } finally {\n      setLoading(false);\n      setLoadingMore(false);\n    }\n  };\n\n  // 무한 스크롤 (모바일 전용)\n  useEffect(() => {\n    if (!isMobile) return;\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        if (entries[0].isIntersecting && !loadingMore && currentPage < totalPages) {\n          setCurrentPage(prev => prev + 1);\n        }\n      },\n      { threshold: 0.1 }\n    );\n\n    const currentTarget = observerTarget.current;\n    if (currentTarget) {\n      observer.observe(currentTarget);\n    }\n\n    return () => {\n      if (currentTarget) {\n        observer.unobserve(currentTarget);\n      }\n    };\n  }, [isMobile, loadingMore, currentPage, totalPages]);\n\n  const handlePageChange = (page: number) => {\n    setCurrentPage(page);\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  };\n\n  const handleCategoryChange = (category: string) => {\n    setCategoryFilter(category);\n    setCurrentPage(1);\n    setActivities([]);\n  };\n\n  const handleLocationChange = (location: string) => {\n    setLocationFilter(location);\n    setCurrentPage(1);\n    setActivities([]);\n  };\n\n  const handleSortChange = (sort: string) => {\n    setSortBy(sort);\n    setCurrentPage(1);\n    setActivities([]);\n  };\n\n  const handleSearchSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    setSearchQuery(searchInput);\n    setCurrentPage(1);\n    setActivities([]);\n  };\n\n  const handleCreateActivity = (e: React.MouseEvent) => {\n    if (!currentUserId) {\n      e.preventDefault();\n      alert('로그인이 필요합니다.');\n      router.push('/login');\n    }\n  };\n\n  const categories = ['전체', '운동', '요리', '독서', '사진', '음악', '미술', '언어', '게임', '여행', '그외'];\n  const locations_part1 = ['전국', '서울', '인천', '대전', '대구', '광주', '울산', '부산', '세종'];\n  const locations_part2 = ['경기도', '강원도', '충청북도', '충청남도', '전라북도', '전라남도', '경상북도', '경상남도', '제주도'];\n\n  const getPageNumbers = () => {\n    const pages = [];\n    const maxVisible = 5;\n\n    if (totalPages <= maxVisible) {\n      for (let i = 1; i <= totalPages; i++) {\n        pages.push(i);\n      }\n    } else {\n      if (currentPage <= 3) {\n        for (let i = 1; i <= maxVisible; i++) {\n          pages.push(i);\n        }\n      } else if (currentPage >= totalPages - 2) {\n        for (let i = totalPages - maxVisible + 1; i <= totalPages; i++) {\n          pages.push(i);\n        }\n      } else {\n        for (let i = currentPage - 2; i <= currentPage + 2; i++) {\n          pages.push(i);\n        }\n      }\n    }\n\n    return pages;\n  };\n\n  if (loading && activities.length === 0) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-xl text-gray-600\">로딩 중...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-gray-50 min-h-screen py-12\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">모임 게시판</h1>\n          <p className=\"text-gray-600\">\n            다양한 취미 활동 모임을 찾아보세요 \n            {totalCount > 0 && (\n              <span className=\"ml-2 text-purple-600 font-medium\">\n                (총 {totalCount}개)\n              </span>\n            )}\n          </p>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow-sm p-4 mb-6\">\n          <div className=\"mb-4\">\n            <h3 className=\"text-sm font-semibold text-gray-700 mb-2\">취미 카테고리</h3>\n            <div className=\"flex flex-wrap gap-2\">\n              {categories.map((cat) => (\n                <button\n                  key={cat}\n                  onClick={() => handleCategoryChange(cat)}\n                  className={`px-4 py-2 rounded-full text-sm font-medium transition-colors ${\n                    categoryFilter === cat\n                      ? \"bg-purple-600 text-white\"\n                      : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\n                  }`}\n                >\n                  {cat}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          <div className=\"mb-4\">\n            <h3 className=\"text-sm font-semibold text-gray-700 mb-2\">원하는 지역</h3>\n            <div className=\"flex flex-wrap gap-2\">\n              {locations_part1.map((loc) => (\n                <button\n                  key={loc}\n                  onClick={() => handleLocationChange(loc)}\n                  className={`px-4 py-2 rounded-full text-sm font-medium transition-colors ${\n                    locationFilter === loc\n                      ? 'bg-purple-600 text-white'\n                      : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                  }`}\n                >\n                  {loc}\n                </button>\n              ))}\n              \n              <div className=\"flex flex-wrap gap-2 w-full mt-2\">\n                {locations_part2.map((loc) => (\n                  <button\n                    key={loc}\n                    onClick={() => handleLocationChange(loc)}\n                    className={`px-4 py-2 rounded-full text-sm font-medium transition-colors ${\n                      locationFilter === loc\n                        ? 'bg-purple-600 text-white'\n                        : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                    }`}\n                  >\n                    {loc}\n                  </button>\n                ))}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex flex-col md:flex-row items-start md:items-center justify-between pt-4 border-t border-gray-200 gap-4\">\n            <form onSubmit={handleSearchSubmit} className=\"flex-1 w-full md:max-w-md\">\n              <div className=\"relative\">\n                <input\n                  type=\"text\"\n                  value={searchInput}\n                  onChange={(e) => setSearchInput(e.target.value)}\n                  placeholder=\"모임 검색...\"\n                  className=\"w-full px-4 py-2 pl-10 pr-10 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                />\n                <button\n                  type=\"submit\"\n                  className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-purple-600\"\n                >\n                  <i className=\"ri-search-line\"></i>\n                </button>\n                {searchInput && (\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      setSearchInput('');\n                      setSearchQuery('');\n                      setCurrentPage(1);\n                      setActivities([]);\n                    }}\n                    className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600\"\n                  >\n                    <i className=\"ri-close-circle-line\"></i>\n                  </button>\n                )}\n              </div>\n            </form>\n\n            <div className=\"flex items-center gap-3 w-full md:w-auto\">\n              <div className=\"flex items-center gap-2\">\n                <span className=\"text-sm text-gray-600\">정렬:</span>\n                <select\n                  value={sortBy}\n                  onChange={(e) => handleSortChange(e.target.value)}\n                  className=\"px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent cursor-pointer\"\n                >\n                  <option value=\"latest\">최신순</option>\n                  <option value=\"oldest\">오래된순</option>\n                  <option value=\"date-asc\">모임 날짜 빠른순</option>\n                  <option value=\"date-desc\">모임 날짜 늦은순</option>\n                </select>\n              </div>\n\n              <Link\n                href=\"/create-activity\"\n                onClick={handleCreateActivity}\n                className=\"px-6 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors whitespace-nowrap flex items-center gap-2\"\n              >\n                <i className=\"ri-add-line\"></i>\n                모임 만들기\n              </Link>\n            </div>\n          </div>\n        </div>\n\n        {activities.length === 0 && !loading ? (\n          <div className=\"bg-white rounded-lg shadow-sm p-12 text-center\">\n            <p className=\"text-gray-500 text-lg mb-4\">\n              {searchQuery\n                ? `\"${searchQuery}\" 검색 결과가 없습니다`\n                : categoryFilter !== '전체' || locationFilter !== '전국'\n                ? '해당 조건의 모임이 없습니다'\n                : '아직 생성된 모임이 없습니다'}\n            </p>\n            {!searchQuery && (\n              <Link\n                href=\"/create-activity\"\n                onClick={handleCreateActivity}\n                className=\"inline-block px-6 py-3 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors\"\n              >\n                첫 모임 만들기\n              </Link>\n            )}\n          </div>\n        ) : (\n          <>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8\">\n              {activities.map((activity, index) => {\n                const isNewPageStart = isMobile && index > 0 && index % itemsPerPage === 0;\n                \n                return (\n                  <div key={activity.id}>\n                    {isNewPageStart && <div ref={newPageMarkerRef} className=\"absolute -mt-20\"></div>}\n                    <Link\n                      href={`/activities/${activity.id}`}\n                      className=\"block bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden cursor-pointer\"\n                    >\n                      <div className=\"p-6\">\n                        <div className=\"flex items-center justify-between mb-3\">\n                          <span className=\"px-3 py-1 bg-purple-100 text-purple-700 text-xs font-medium rounded-full\">\n                            {activity.category.name}\n                          </span>\n                          <span className=\"text-xs text-gray-500\">\n                            {new Date(activity.createdAt).toLocaleDateString('ko-KR')}\n                          </span>\n                        </div>\n\n                        <h3 className=\"text-lg font-bold text-gray-900 mb-2 line-clamp-1\">\n                          {activity.title}\n                        </h3>\n\n                        <p className=\"text-sm text-gray-600 mb-4 line-clamp-2\">\n                          {activity.description}\n                        </p>\n\n                        <div className=\"space-y-2 mb-4\">\n                          <div className=\"flex items-center text-sm text-gray-700\">\n                            <i className=\"ri-calendar-line mr-2 text-purple-600\"></i>\n                            {activity.date} {activity.time}\n                          </div>\n                          <div className=\"flex items-center text-sm text-gray-700\">\n                            <i className=\"ri-map-pin-line mr-2 text-purple-600\"></i>\n                            {activity.location.name} · {activity.address}\n                          </div>\n                          <div className=\"flex items-center text-sm text-gray-700\">\n                            <i className=\"ri-group-line mr-2 text-purple-600\"></i>\n                            {activity.participants}/{activity.maxParticipants}명\n                          </div>\n                        </div>\n\n                        <div className=\"flex items-center justify-between pt-4 border-t border-gray-100\">\n                          <div className=\"flex items-center gap-2\">\n                            <span className=\"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded\">\n                              {activity.difficultyLevel}\n                            </span>\n                            <span className=\"text-sm font-semibold text-purple-600\">\n                              {activity.price === 0 ? '무료' : `${activity.price.toLocaleString()}원`}\n                            </span>\n                          </div>\n                          <span className=\"text-sm text-purple-600 hover:text-purple-700 font-medium\">\n                            모임 상세보기 →\n                          </span>\n                        </div>\n                      </div>\n                    </Link>\n                  </div>\n                );\n              })}\n            </div>\n\n            {isMobile && (\n              <div ref={observerTarget} className=\"py-8 text-center\">\n                {loadingMore && (\n                  <div className=\"text-gray-600\">\n                    <i className=\"ri-loader-4-line animate-spin text-2xl\"></i>\n                    <p className=\"mt-2\">더 불러오는 중...</p>\n                  </div>\n                )}\n                {currentPage >= totalPages && activities.length > 0 && (\n                  <p className=\"text-gray-500\">모든 모임을 확인했습니다</p>\n                )}\n              </div>\n            )}\n\n            {!isMobile && totalPages > 1 && (\n              <div className=\"flex items-center justify-center gap-2\">\n                <button\n                  onClick={() => handlePageChange(currentPage - 1)}\n                  disabled={currentPage === 1}\n                  className=\"px-3 py-2 rounded-md bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                >\n                  <i className=\"ri-arrow-left-s-line\"></i>\n                </button>\n\n                {currentPage > 3 && totalPages > 5 && (\n                  <>\n                    <button\n                      onClick={() => handlePageChange(1)}\n                      className=\"px-4 py-2 rounded-md bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors\"\n                    >\n                      1\n                    </button>\n                    <span className=\"px-2 text-gray-500\">...</span>\n                  </>\n                )}\n\n                {getPageNumbers().map((page) => (\n                  <button\n                    key={page}\n                    onClick={() => handlePageChange(page)}\n                    className={`px-4 py-2 rounded-md transition-colors ${\n                      currentPage === page\n                        ? 'bg-purple-600 text-white font-semibold'\n                        : 'bg-white border border-gray-300 text-gray-700 hover:bg-gray-50'\n                    }`}\n                  >\n                    {page}\n                  </button>\n                ))}\n\n                {currentPage < totalPages - 2 && totalPages > 5 && (\n                  <>\n                    <span className=\"px-2 text-gray-500\">...</span>\n                    <button\n                      onClick={() => handlePageChange(totalPages)}\n                      className=\"px-4 py-2 rounded-md bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors\"\n                    >\n                      {totalPages}\n                    </button>\n                  </>\n                )}\n\n                <button\n                  onClick={() => handlePageChange(currentPage + 1)}\n                  disabled={currentPage === totalPages}\n                  className=\"px-3 py-2 rounded-md bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                >\n                  <i className=\"ri-arrow-right-s-line\"></i>\n                </button>\n              </div>\n            )}\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}