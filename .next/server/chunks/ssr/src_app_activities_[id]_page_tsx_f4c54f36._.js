module.exports=[56809,a=>{"use strict";a.s(["default",()=>i],56809);var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246),f=a.i(5050),g=(0,f.createServerReference)("40db0beef633cd2c64a8f647c305e25ba2ce3fcce2",f.callServer,void 0,f.findSourceMapURL,"joinActivity"),h=(0,f.createServerReference)("40d4b17a891ce87c9efd525f59d21162ecf28f6bb0",f.callServer,void 0,f.findSourceMapURL,"cancelParticipation");function i({params:a}){let f=(0,d.useRouter)(),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(!0),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(!1);(0,c.useEffect)(()=>{(async()=>{n((await a).id)})()},[a]),(0,c.useEffect)(()=>{m&&(u(),v(),w())},[m]);let u=async()=>{try{let a=await fetch(`/api/activities/${m}`);if(a.ok){let b=await a.json();j(b)}else alert("모임을 찾을 수 없습니다."),f.push("/activities")}catch(a){console.error("Error:",a)}finally{l(!1)}},v=async()=>{try{let a=await fetch("/api/auth/current-user");if(a.ok){let b=await a.json();b.userId&&p(b.userId)}}catch(a){console.error("Error checking user:",a)}},w=async()=>{try{let a=await fetch(`/api/activities/${m}/participation`);if(a.ok){let b=await a.json();r(b.isParticipating)}}catch(a){console.error("Error:",a)}},x=async()=>{if(!o){alert("로그인이 필요합니다."),f.push("/login");return}t(!0);let a=await g(m);a.success?(alert(a.message),r(!0),u()):alert(a.error),t(!1)},y=async()=>{if(!confirm("참여를 취소하시겠습니까?"))return;t(!0);let a=await h(m);a.success?(alert(a.message),r(!1),u()):alert(a.error),t(!1)},z=async()=>{if(confirm("정말 이 모임을 삭제하시겠습니까?"))try{(await fetch(`/api/activities/${m}`,{method:"DELETE"})).ok?(alert("모임이 삭제되었습니다."),f.push("/activities")):alert("삭제에 실패했습니다.")}catch(a){console.error("Error:",a),alert("오류가 발생했습니다.")}},A=o&&i?.userId===o;return k?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,b.jsx)("div",{className:"text-xl text-gray-600",children:"로딩 중..."})}):i?(0,b.jsx)("div",{className:"bg-gray-50 min-h-screen py-12",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,b.jsxs)(e.default,{href:"/activities",className:"inline-flex items-center text-gray-600 hover:text-gray-900 mb-6",children:[(0,b.jsx)("i",{className:"ri-arrow-left-line mr-2"}),"목록으로 돌아가기"]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 px-8 py-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,b.jsx)("span",{className:"px-3 py-1 bg-white/20 text-white text-sm font-medium rounded-full",children:i.category.name}),(0,b.jsx)("span",{className:"px-3 py-1 bg-white/20 text-white text-sm font-medium rounded-full",children:i.location.name})]}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:i.title}),(0,b.jsxs)("p",{className:"text-purple-100",children:["주최자: ",i.organizer]})]}),(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-3",children:"모임 소개"}),(0,b.jsx)("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:i.description})]}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"일정 및 장소"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"flex items-start",children:[(0,b.jsx)("i",{className:"ri-calendar-line text-purple-600 text-xl mr-3 mt-1"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"날짜"}),(0,b.jsx)("p",{className:"text-gray-900 font-medium",children:i.date})]})]}),(0,b.jsxs)("div",{className:"flex items-start",children:[(0,b.jsx)("i",{className:"ri-time-line text-purple-600 text-xl mr-3 mt-1"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"시간"}),(0,b.jsxs)("p",{className:"text-gray-900 font-medium",children:[i.time," (",i.duration,"분)"]})]})]}),(0,b.jsxs)("div",{className:"flex items-start md:col-span-2",children:[(0,b.jsx)("i",{className:"ri-map-pin-line text-purple-600 text-xl mr-3 mt-1"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"장소"}),(0,b.jsxs)("p",{className:"text-gray-900 font-medium",children:[i.location.name," · ",i.address]})]})]})]})]}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"모임 정보"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"참가 인원"}),(0,b.jsxs)("p",{className:"text-lg font-bold text-purple-600",children:[i.participants,"/",i.maxParticipants,"명"]})]}),(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"난이도"}),(0,b.jsx)("p",{className:"text-lg font-bold text-gray-900",children:i.difficultyLevel})]}),(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"참가비"}),(0,b.jsx)("p",{className:"text-lg font-bold text-gray-900",children:0===i.price?"무료":`${i.price.toLocaleString()}원`})]}),(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"진행 시간"}),(0,b.jsxs)("p",{className:"text-lg font-bold text-gray-900",children:[i.duration,"분"]})]})]})]}),(0,b.jsxs)("div",{className:"mb-8 bg-purple-50 rounded-lg p-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"주최자 정보"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("i",{className:"ri-user-line text-purple-600 mr-3"}),(0,b.jsx)("span",{className:"text-gray-700",children:i.organizer})]}),(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("i",{className:"ri-phone-line text-purple-600 mr-3"}),(0,b.jsx)("span",{className:"text-gray-700",children:i.phone})]}),(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("i",{className:"ri-mail-line text-purple-600 mr-3"}),(0,b.jsx)("span",{className:"text-gray-700",children:i.email})]})]})]}),(0,b.jsxs)("div",{className:"pt-6 border-t space-y-4",children:[A&&m&&(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("button",{onClick:()=>f.push(`/activities/${m}/edit`),className:"flex-1 px-6 py-3 bg-blue-400 text-white rounded-md hover:bg-blue-700 transition-colors",children:"수정하기"}),(0,b.jsx)("button",{onClick:z,className:"flex-1 px-6 py-3 bg-red-400 text-white rounded-md hover:bg-red-700 transition-colors",children:"삭제하기"})]}),o&&!A&&m&&(0,b.jsx)("div",{children:q?(0,b.jsx)("button",{onClick:y,disabled:s,className:"w-full px-6 py-3 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors disabled:opacity-50",children:s?"처리 중...":"참여 취소하기"}):(0,b.jsx)("button",{onClick:x,disabled:s||i&&i.participants>=i.maxParticipants,className:"w-full px-6 py-3 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"처리 중...":i&&i.participants>=i.maxParticipants?"마감됨":"참여하기"})}),!o&&(0,b.jsx)("button",{onClick:()=>{alert("로그인이 필요합니다."),f.push("/login")},className:"w-full px-6 py-3 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:"로그인하고 참여하기"})]})]})]})]})}):(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,b.jsx)("div",{className:"text-xl text-gray-600",children:"모임을 찾을 수 없습니다."})})}}];

//# sourceMappingURL=src_app_activities_%5Bid%5D_page_tsx_f4c54f36._.js.map